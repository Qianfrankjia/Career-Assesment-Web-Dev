<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Career Self-Assessment ËÅå‰∏öËá™ÊàëËØÑ‰º∞</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;600&family=Noto+Sans+SC:wght@500;600&display=swap" rel="stylesheet">
  <style>
    body {font-family:'Poppins','Noto Sans SC',sans-serif;margin:0;color:#1e293b;background:linear-gradient(180deg,#f9fafb 0%,#e5e7eb 50%,#f9fafb 100%);display:flex;flex-direction:column;min-height:100vh;}
    header {text-align:center;padding:40px 0 10px;color:#111827;font-size:2.5rem;font-weight:700;letter-spacing:.4px;}
    .main {flex:1;display:grid;grid-template-columns:50% 50%;gap:0;position:relative;padding:30px 60px;}
    .divider {position:absolute;left:50%;top:5%;bottom:5%;width:1px;background:linear-gradient(to bottom,transparent,#d1d5db 50%,transparent);}
    .left,.right {background:transparent;padding:20px 40px;overflow-y:auto;}
    h2 {color:#2563eb;font-size:1.25rem;margin-top:24px;padding-bottom:6px;border-bottom:2px solid #e5e7eb;font-weight:600;}
    h2 span.weight {color:#6b7280;font-size:.9rem;margin-left:6px;font-weight:400;}
    select,input[type='number'] {width:100%;padding:10px;border:1px solid #d1d5db;border-radius:8px;font-size:1rem;margin-top:6px;background:#fff;transition:all .3s ease;}
    select:hover,input[type='number']:hover {border-color:#3b82f6;box-shadow:0 0 8px rgba(59,130,246,.15);}
    .score-display {text-align:center;margin-bottom:20px;}
    .score-display h2 {margin:0;font-size:3.5rem;transition:color .3s,transform .3s;font-weight:700;}
    .score-display p {color:#475569;margin:10px 0 0;opacity:0;transition:opacity .8s;font-size:1.2rem;font-weight:500;}
    .score-display.show p {opacity:1;}
    canvas {max-width:100%;margin-top:30px;animation:fadeIn 1.2s ease;}
    .actions {text-align:center;margin-top:10px;}
    #resetAll {display:inline-block;padding:8px 16px;border:1px solid #2563eb;border-radius:6px;background:white;color:#2563eb;font-weight:600;cursor:pointer;transition:all .25s ease;}
    #resetAll:hover {background:#2563eb;color:white;}
    footer {text-align:center;padding:20px;font-size:.9rem;color:#6b7280;border-top:1px solid #e5e7eb;background:#f9fafb;}
    @keyframes fadeIn {from{opacity:0;}to{opacity:1;}}
  </style>
</head>
<body>
  <header>Career Self-Assessment ËÅå‰∏öËá™ÊàëËØÑ‰º∞</header>
  <div class="main">
    <div class="divider"></div>
    <div class="left" id="questionContainer"></div>
    <div class="right">
      <div class="score-display" id="scoreDisplay">
        <h2 id="overallScore">0</h2>
        <p id="suggestion"></p>
      </div>
      <canvas id="radarChart" height="400"></canvas>
      <div class="actions"><button id="resetAll">Reset</button></div>
    </div>
  </div>
  <footer>¬© 2025 F_annnnnn</footer>
  <script>
    const CONFIG={
      dimensions:[
        {key:'financial',cn:'ÁªèÊµéÂÆâÂÖ®',en:'Financial Stability',weight:0.3},
        {key:'environment',cn:'Â∑•‰ΩúÁéØÂ¢É',en:'Workplace Environment',weight:0.15},
        {key:'growth',cn:'ËÅå‰∏öÊàêÈïøÊÄß',en:'Career Development',weight:0.2},
        {key:'balance',cn:'ÁîüÊ¥ªÂπ≥Ë°°',en:'Work-Life Balance',weight:0.15},
        {key:'fulfillment',cn:'‰∏™‰∫∫ËÆ§Âêå',en:'Personal Satisfaction',weight:0.2}
      ],
      questions:[
        {text:'ÂΩìÂâçÊòØÂê¶Ë¥üÂÄ∫ÔºüÔºà‰º¥ÈöèÁùÄÈÄêÂà©ÊàêÊú¨Â¢ûÂä†ÔºåËÅå‰∏ö‰ª∑ÂÄº‰ºöÈöèË¥üÂÄ∫Ê∞¥Âπ≥ÊèêÈ´òËÄåÂçáÈ´òÔºâ',dimension:'financial',weight:0.2,options:['Êó†Ë¥üÂÄ∫(0)','ÊúâË¥üÂÄ∫Ôºå‰ΩÜÂÖ∑Â§áÂÖÖË∂≥Êú¨ÈáëÂÅøËøòÔºà1Ôºâ','5Âπ¥ÂÜÖÊúâË¥üÂÄ∫ËÆ°ÂàíÊàñÊúâÁîüËÇ≤ËÆ°ÂàíÔºà4Ôºâ','ÊúâÈ´òÈ¢ùË¥üÂÄ∫Ôºà5Ôºâ'],scores:[0,1,4,5]},
        {text:'Êâ£Èô§ÁîüÊ¥ªÂøÖÈúÄÊàêÊú¨ÂêéÂΩìÂâç‰∏™‰∫∫Ëñ™Ê∞¥ÈúÄÂ§öÂ∞ëÂπ¥ÂèØ‰ª•Ë¥≠‰π∞ÂΩìÂú∞Á∫¶50m¬≤ÁöÑÊàøÂ±ãÔºü',dimension:'financial',weight:0.8,type:'number'},
        {text:'Âπ≥ÂùáÊØèÂë®Â∑•‰Ωú+ÈÄöÂã§ÊâÄÈúÄÊÄªÊó∂Èïø',dimension:'balance',weight:0.8,type:'number'},
        {text:'Âπ¥Â∏¶Ëñ™‰ºëÂÅá(PTO)Â§©Êï∞',dimension:'balance',weight:0.2,type:'number'},
        {text:'ÁªßÁª≠‰ªé‰∫ãÂΩìÂâçÂ∑•‰ΩúÊòØÂê¶ËÉΩÂ§üÊèêÂçá‰Ω†ÁöÑ‰∏ì‰∏öÁ´û‰∫âÂäõÊàñÂØπËß£ÂÜ≥Ë∫´‰ªΩÈóÆÈ¢òÊúâÂ∏ÆÂä©Ôºü',dimension:'growth',weight:0.8,options:['ÂΩìÂâçÂ∑•‰ΩúÂØπÂ±•ÂéÜÊàñË∫´‰ªΩËΩ¨Êç¢ÊúâÊòéÁ°ÆÊèêÂçáÔºà5Ôºâ','ÁªßÁª≠ÂΩìÂâçÂ∑•‰ΩúÂØπÂ±•ÂéÜÊúâ‰∏ÄÂÆöÁ®ãÂ∫¶ÊèêÂçáÔºåÊàñÂØπË∫´‰ªΩËΩ¨Êç¢ÊúâÂ∏ÆÂä©Ôºà3Ôºâ','ÂàùÊúüÂ∑•‰ΩúÁªèÂéÜÂØπÂ±•ÂéÜÊúâÊèêÂçá‰ΩÜÁªßÁª≠Â∑•‰ΩúÊó†Â¢ûÈáè(1)','ÊèêÂçáÊúâÈôêÊàñÂá†‰πéÊó†Â∏ÆÂä©Ôºà0Ôºâ'],scores:[5,3,1,0]},
        {text:'ËØ•Â∑•‰ΩúÊòØÂê¶ÂÖ∑Â§áÈïøÊúüÂèëÂ±ïÊΩúÂäõÔºàÂ¶Ç‰∏äÂçáÈÄöÈÅìÊòéÁ°ÆÊàñÂΩìÂâçÁÉ≠Èó®Ë°å‰∏öÔºâÔºü',dimension:'growth',weight:0.2,options:['‰ªé‰∫ãÂΩìÂâçÁÉ≠Èó®Ë°å‰∏öÔºà5Ôºâ','ÊúâÊòéÁ°ÆÊàêÈïøÁ©∫Èó¥Ôºà4Ôºâ','ËøòÈúÄÊõ¥Â§öÊäïÂÖ•ËØÅÊòéËá™Â∑±ÁöÑÊ†∏ÂøÉÁ´û‰∫âÂäõÔºà2Ôºâ','Êó†ÊòéÊòæÂâçÊôØÔºà0Ôºâ'],scores:[5,4,2,0]},
        {text:'ËÆ§‰∏∫ÂΩìÂâçÁîüÊ¥ªÁä∂ÊÄÅÔºà‰∏çËÄÉËôëÂèØÊåÅÁª≠ÊÄßÔºâÊòØÂê¶Âπ∏Á¶èÔºü',dimension:'fulfillment',weight:0.8,options:['Â∏åÊúõËÉΩÂ§üÁª¥ÊåÅÁé∞Áä∂ÊàñËÆ§‰∏∫Âú®Ê≠£Á°ÆÁöÑÊñπÂêë‰∏äÔºà5Ôºâ','ÊÄª‰ΩìÂú®Ê≠£Á°ÆÁöÑÈÅìË∑Ø‰∏äÔºåÊúâ‰∏ÄÂÆöÊîπÂñÑÁ©∫Èó¥Ôºà4Ôºâ','ÂèØ‰ª•Êé•ÂèóÔºà2Ôºâ','Â∏åÊúõÊîπÂèòÔºà0Ôºâ'],scores:[5,4,2,0]},
        {text:'ÊòØÂê¶ËÆ§ÂèØÂΩìÂâçÁöÑÂ∑•‰ΩúÁ±ªÂûãÔºü',dimension:'fulfillment',weight:0.2,options:['ËÆ§‰∏∫Âú®ÂÅöÊúâÊÑè‰πâÁöÑ‰∫ãÔºà5Ôºâ','ÊÄª‰ΩìÊù•ËÆ≤ÊòØÊÉ≥‰ªé‰∫ãÁöÑÂ∑•‰ΩúÁßçÁ±ªÔºà4Ôºâ','Êó†ÊÑüÔºà2Ôºâ','ÂΩìÂâçÂ∑•‰ΩúÁ±ªÂûã‰∏çÈÄÇÂêàÔºà0Ôºâ'],scores:[5,4,2,0]},
        {text:'ÂÖ¨Âè∏ÊñáÂåñ‰∏éÂ∑•‰ΩúÂéãÂäõÊ∞¥Âπ≥',dimension:'environment',weight:0.8,options:['ÂºÄÊîæ/ÂåÖÂÆπËÆ§ÂêåÊÑüÂº∫ÔºåÂ∑•‰ΩúÂéãÂäõËæÉÂ∞èÔºà5Ôºâ','ÂÖ¨Âè∏ÊñáÂåñ‰∏çËÆ§Âêå‰ΩÜÂ∑•‰ΩúÂéãÂäõÁ®ãÂ∫¶ÂèØÊé•ÂèóÔºà4Ôºâ','ÂÖ¨Âè∏ÊñáÂåñËâØÂ•ΩÔºå‰ΩÜÂ∑•‰ΩúWorkloadËæÉÂ§ßÔºà2Ôºâ','ÂÖ¨Âè∏ÊñáÂåñÈÄ†ÊàêÁ´û‰∫âÊøÄÁÉàÊàñÂΩ¢Âºè‰∏ª‰πâÔºåÂ∑•‰ΩúÂéãÂäõÂ∑®Â§ßÔºà0Ôºâ'],scores:[5,4,2,0]},
        {text:'Â∑•‰ΩúË£ÅÂëòÈ£éÈô©',dimension:'environment',weight:0.2,options:['Êî∂ÂÖ•Êù•Ê∫êÁ®≥ÂÆöÔºåÊó†Ë£ÅÂëòÈ£éÈô©Ôºà5Ôºâ','Â§Ñ‰∫é‰∏ãË°åÊúüÔºåÂêéÊúüÈÄêÊ∏êÈù¢‰∏¥Ë£ÅÂëòÂèòÂä®È£éÈô©Ôºà4Ôºâ','‰∏≠Âπ¥Âç±Êú∫(3)','Êú´‰ΩçÊ∑òÊ±∞Âà∂Á≠âÈ´òË£ÅÂëòÈ£éÈô©Ôºà0Ôºâ'],scores:[5,4,3,0]}
      ]
    };

    const container=document.getElementById('questionContainer');
    CONFIG.dimensions.forEach(dim=>{
      const section=document.createElement('section');
      section.innerHTML=`<h2>${dim.cn} <span class='weight'>(${(dim.weight*100).toFixed(0)}%)</span><br><span style='font-size:0.9rem;color:#64748b;'>${dim.en}</span></h2>`;
      CONFIG.questions.filter(q=>q.dimension===dim.key).forEach(q=>{
        const p=document.createElement('p');
        let input;
        if(q.type==='number'){
          input=document.createElement('input');
          input.type='number';
          if(q.text.includes('ÊàøÂ±ã')){input.min=1;input.max=50;input.placeholder='ËæìÂÖ•1-50‰πãÈó¥ÁöÑÂπ¥‰ªΩ';}
          else if(q.text.includes('Êó∂Èïø')){input.min=0;input.max=80;input.placeholder='ËæìÂÖ•0-80Â∞èÊó∂';}
          else if(q.text.includes('‰ºëÂÅá')){input.min=0;input.max=365;input.placeholder='ËæìÂÖ•0-365Â§©';}
        } else {
          input=document.createElement('select');
          const ph=document.createElement('option');ph.value='';ph.textContent='ËØ∑ÈÄâÊã©';input.appendChild(ph);
          q.options.forEach((opt,i)=>{const o=document.createElement('option');o.value=q.scores[i];o.textContent=opt;input.appendChild(o);});
        }
        input.dataset.dimension=dim.key;
        input.dataset.question=q.text;
        p.innerHTML=q.text+'<br>';
        p.appendChild(input);
        section.appendChild(p);
      });
      container.appendChild(section);
    });

    function scoreYearsToBuy(v){v=Math.min(50,Math.max(1,v));if(v<=0)return 5;if(v>=30)return 0;return 5-((v-10)/(30-1))*5;}
    function scoreWorkCommute(v){v=Math.min(80,Math.max(0,v));if(v<=44)return 5;if(v>=60)return 0;return 5-((v-44)/(60-44))*5;}

    function getScoreValue(input,q){
      if(q.type==='number'){
        const raw=input.value;
        if(raw==='') return NaN;
        const val=Number(raw);
        if(isNaN(val)) return NaN;
        if(q.text.includes('ÊàøÂ±ã')) return scoreYearsToBuy(val);
        if(q.text.includes('Êó∂Èïø')) return scoreWorkCommute(val);
        if(q.text.includes('‰ºëÂÅá')){
          const v=Math.min(365,Math.max(0,val));
          if(v>=17) return 5;
          if(v<=5) return 0;
          return ((v-5)/(17-5))*5;
        }
        return NaN;
      }
      return input.value===''?NaN:Number(input.value);
    }

    document.addEventListener('input',e=>{if(e.target.matches('select,input[type="number"]')) updateScores();});

    function updateScores(){
      const dimQs=CONFIG.dimensions.reduce((m,d)=>{m[d.key]=CONFIG.questions.filter(q=>q.dimension===d.key);return m;},{});
      const weightedSum={}, answeredWeight={}, totalWeight={};
      CONFIG.dimensions.forEach(d=>{weightedSum[d.key]=0;answeredWeight[d.key]=0;totalWeight[d.key]=0;});

      document.querySelectorAll('select,input[type="number"]').forEach(el=>{
        const dim=el.dataset.dimension; const qText=el.dataset.question; const q=CONFIG.questions.find(x=>x.text===qText);
        const val=getScoreValue(el,q);
        totalWeight[dim]+=q.weight;
        if(!isNaN(val)){
          weightedSum[dim]+=val*q.weight;
          answeredWeight[dim]+=q.weight;
        }
      });

      const averages={};
      CONFIG.dimensions.forEach(d=>{
        averages[d.key]=answeredWeight[d.key]>0?weightedSum[d.key]/answeredWeight[d.key]:0;
      });

      radarChart.data.datasets[0].data=CONFIG.dimensions.map(d=>averages[d.key]);
      radarChart.update();
      animateScore(calcOverall(averages));
    }

    function calcOverall(averages){
      let total=0,totalWeight=0;
      CONFIG.dimensions.forEach(d=>{total+=averages[d.key]*20*d.weight;totalWeight+=d.weight;});
      return totalWeight?(total/totalWeight)*1.08:0;
    }

    function animateScore(target){
      const scoreEl=document.getElementById('overallScore');
      const suggestion=document.getElementById('suggestion');
      const current=parseFloat(scoreEl.textContent)||0;
      const step=(target-current)/20;
      let frame=0;
      const allFilled=Array.from(document.querySelectorAll('select,input[type="number"]')).every(s=>s.value!==''&&s.value!==undefined);
      const timer=setInterval(()=>{
        frame++;
        const v=current+step*frame;
        scoreEl.textContent=v.toFixed(0);
        if(frame>=20){
          clearInterval(timer);
          scoreEl.textContent=target.toFixed(0);
          if(!allFilled){
            suggestion.innerHTML='ËØ∑ÂÆåÊàêÊâÄÊúâÈóÆÈ¢òÂêéÊü•ÁúãÁªìÊûú';
            suggestion.style.opacity='0.8';
            return;
          }
          suggestion.style.opacity='1';
          if(target>=85){scoreEl.style.color='#16a34a';suggestion.innerHTML='üåü ÊÅ≠ÂñúÔºÅËææÂà∞‰∫Ü‰ª§‰∫∫Áæ°ÊÖïÁöÑÂπ≥Ë°°ÔºÅ';}
          else if(target>=70){scoreEl.style.color='#0ea5e9';suggestion.innerHTML='üòä Áä∂ÊÄÅËâØÂ•ΩÔºå‰Ω†Áü•ÈÅìËá™Â∑±Ë¶Å‰ªÄ‰πà„ÄÇ';}
          else if(target>=60){scoreEl.style.color='#f59e0b';suggestion.innerHTML='üôÇ ÁêÜÊÄßÔºÅ‰ªòÂá∫‰∏éÂõûÊä•ÊàêÊØî‰æãÔºÅ';}
          else{scoreEl.style.color='#dc2626';suggestion.innerHTML='‚ö†Ô∏è ÊÉ≥ÊÉ≥Â∑•‰ΩúÂà∞Â∫ï‰∏∫‰ΩïÔºü';}
          document.getElementById('scoreDisplay').classList.add('show');
        }
      },30);
    }

    function getPointLabelSize(){
      const w=document.querySelector('.right').clientWidth||window.innerWidth;
      const dpr=window.devicePixelRatio||1;
      return Math.max(12,Math.min(22,Math.round(w/45*(dpr>=2?1.1:1))));
    }

    const ctx=document.getElementById('radarChart');
    const radarChart=new Chart(ctx,{type:'radar',data:{labels:CONFIG.dimensions.map(d=>`${d.cn}\n${d.en}`),datasets:[{data:[0,0,0,0,0],fill:true,backgroundColor:'rgba(59,130,246,0.25)',borderColor:'rgba(37,99,235,0.9)',pointBackgroundColor:'rgba(37,99,235,1)'}]},options:{scales:{r:{min:0,max:5,ticks:{display:false},grid:{circular:false,color:'#cbd5e1'},angleLines:{color:'#cbd5e1'},pointLabels:{font:{size:getPointLabelSize()},callback:(label)=>String(label).split('\n')}}},plugins:{legend:{display:false}},animation:{duration:800,easing:'easeOutQuart'}}});

    let resizeTimer=null;
    window.addEventListener('resize',()=>{clearTimeout(resizeTimer);resizeTimer=setTimeout(()=>{radarChart.options.scales.r.pointLabels.font.size=getPointLabelSize();radarChart.update();},120);});

    document.getElementById('resetAll').addEventListener('click',()=>{
      document.querySelectorAll('select,input[type="number"]').forEach(s=>s.value='');
      radarChart.data.datasets[0].data=[0,0,0,0,0];
      radarChart.update();
      document.getElementById('overallScore').textContent='0';
      document.getElementById('suggestion').textContent='';
      document.getElementById('scoreDisplay').classList.remove('show');
    });
  </script>
</body>
</html>
